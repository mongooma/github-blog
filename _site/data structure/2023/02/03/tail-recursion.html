<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Tail Recursion &middot; Elapsed
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- JS -->
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <script src="https://code.jquery.com/jquery-3.3.0.min.js" integrity="sha256-RTQy8VOmNlT6b2PIRur37p6JEBZUE7o8wPgMvu18MC4=" crossorigin="anonymous"></script>
  <script src="/public/js/main.js"></script>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">


</head>


  <body>

    


<div class="sidebar">
  <div class="sidebar-post-lead">
      <nav class="sidebar-nav-post-lead">
        <ul>
        </ul>
      </nav> 
  </div> 

  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Elapsed
        </a>
      </h1>
      <p class="lead">Mostly frameworks.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Recent</a>

      

      
      
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About Me</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/categories/">Categories</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/graphs/">On Graphs</a>
          
        
      
        
          
        
      

      <!-- <a class="sidebar-nav-item" href="/archive/v1.0.zip">Download</a> -->
      <!-- <a class="sidebar-nav-item" href="">GitHub project</a> -->
      <span class="sidebar-nav-item">Currently v1.0</span>
    </nav>

    <p>&copy; 2023. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script src="/public/js/main.js"></script> -->

<div class="post">
  <h1 class="post-title">Tail Recursion</h1>
  <span class="post-date">03 Feb 2023</span>  
  <section>
    <p>Each call from the recursion function will initiate its downstream calls, with this call as the “root”. The global root is the first call of the function.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>  <span class="c1"># root call
</span>
    <span class="p">...</span>

    <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># recursive call
</span>
    <span class="p">...</span>
</code></pre></div></div>

<p>In general (case 1 in the fig.), the root call will need the return value of the recursive call to compute. e.g., In backtracking, the searching direction is non-predictable (i.e., in a tree or a graph). Therefore, the root needs to redirect the search based on the return value of its recursive call.</p>

<p>Another example is the divide-and-conquer situation, where the original problem is at the root node of a tree. At each level, the problem is divided into sub-problems. The final result has to be gathered at the root node because each non-root node is only aware of its own sub-problem.</p>

<p>However, when the search direction is expressable, and the number of branches does not increase at each level, it could likely be a tail recursion.</p>

<p>A recursion is said to be a tail recursion if the rest of the function does not rely on finishing the recursion step, so there is no need to maintain the full calling stack (case 2 in the fig.).</p>

<p><img src="https://user-images.githubusercontent.com/3526618/216741222-ba97ab6e-64fd-4a98-90b9-ca8fdd56cd63.png" alt="image" /></p>

<p>The “tail recursion” got its name because, to make the compiler think the function does not depend on the return value of the recursive call, the recursive step must be at the tail part of the function body.</p>

<p>This kind of writing is not a tail recursion:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">n</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p>Because it’s equivalent to</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">+=</span> <span class="n">n</span>

    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

  </section>

</div>

<div class="related">
  <h2>Most Recent Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/project%20management/2023/02/18/PythonCrossFolderImport.html">
            Python: Cross-folder import
            <small>18 Feb 2023</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/algorithms/2023/02/15/backtracking.html">
            Writing Tree traversal for Backtracking
            <small>15 Feb 2023</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/maths/2023/02/09/geometric_sequence.html">
            Geometric Sequence Sum
            <small>09 Feb 2023</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


    </div>

  </body>
</html>
